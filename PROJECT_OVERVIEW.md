# AI智能构图相机 - 项目总览

## 📋 项目信息

**项目名称：** AI智能构图相机  
**版本：** 1.0.0  
**开发语言：** Python  
**目标平台：** Android 6.0+  
**开发框架：** Kivy  

## 🎯 项目目标

创建一个基于AI的实时拍摄辅助应用，通过混合AI方案（本地+云端）为用户提供专业的构图建议，帮助普通用户拍出专业级照片。

## ✨ 核心功能

### 1. 实时构图辅助（本地AI）
- ✅ 三分法网格线显示
- ✅ 黄金分割线显示
- ✅ 水平参考线
- ✅ 主体自动识别与标注
- ✅ 实时美学评分（0-10分）
- ✅ 智能构图建议
- ✅ 完全离线运行

### 2. 云端精准分析（腾讯云API）
- ⭐ 专业美学评分
- ⭐ 详细构图分析
- ⭐ 色彩平衡评估
- ⭐ 技术质量评分
- ⭐ 个性化建议
- ⭐ 每月10000次免费

### 3. 拍摄功能
- 📸 高清照片拍摄
- 💾 自动保存到相册
- 📊 保存评分数据
- 🏷️ 元数据记录

## 🏗️ 技术架构

### 混合AI方案

```
┌─────────────────────────────────────────┐
│              用户界面                    │
│  实时预览 + 辅助线 + 评分 + 建议         │
└──────────────┬──────────────────────────┘
               │
       ┌───────┴────────┐
       │                │
┌──────▼──────┐  ┌──────▼──────┐
│  本地AI     │  │  云端API    │
│  (实时)     │  │  (按需)     │
├─────────────┤  ├─────────────┤
│ OpenCV      │  │ 腾讯云      │
│ NIMA轻量版  │  │ 图像分析    │
│ 0延迟       │  │ 高精度      │
│ 离线可用    │  │ 需要网络    │
└─────────────┘  └─────────────┘
```

### 技术栈

| 层级 | 技术 | 用途 |
|------|------|------|
| **UI框架** | Kivy 2.2.1 | Android应用开发 |
| **图像处理** | OpenCV | 主体检测、边缘检测 |
| **AI模型** | TensorFlow Lite | 轻量级NIMA模型 |
| **云端API** | 腾讯云SDK | 专业图像分析 |
| **打包工具** | Buildozer | 生成Android APK |

## 📁 项目结构

```
ai-camera-assistant/
├── main.py                    # 应用入口
├── buildozer.spec            # Android打包配置
├── requirements.txt          # Python依赖
├── README.md                 # 项目说明
├── QUICKSTART.md            # 快速开始
├── PROJECT_OVERVIEW.md      # 本文件
│
├── config/                   # 配置文件
│   ├── config.json          # 主配置（需创建）
│   └── config.example.json  # 配置示例
│
├── src/                     # 源代码
│   ├── camera/             # 相机模块
│   │   ├── camera_manager.py      # 相机管理
│   │   └── frame_processor.py     # 帧处理（待实现）
│   │
│   ├── ai/                 # AI分析模块
│   │   ├── local_analyzer.py      # 本地分析
│   │   ├── cloud_api.py           # 云端API
│   │   └── nima_model.py          # NIMA模型（待实现）
│   │
│   ├── composition/        # 构图分析
│   │   ├── grid_overlay.py        # 辅助线绘制
│   │   ├── subject_detector.py    # 主体检测（待实现）
│   │   └── composition_rules.py   # 构图规则（待实现）
│   │
│   └── ui/                 # 用户界面
│       ├── camera_screen.py       # 相机屏幕
│       ├── settings_screen.py     # 设置屏幕
│       └── overlay_renderer.py    # 叠加层（待实现）
│
├── models/                  # AI模型文件
│   └── nima_mobile.tflite  # NIMA模型（需下载）
│
├── docs/                    # 文档
│   ├── 使用说明.md
│   └── 开发文档.md
│
├── scripts/                 # 工具脚本
│   └── download_models.py  # 模型下载脚本
│
└── assets/                  # 资源文件
    ├── icons/              # 图标
    └── fonts/              # 字体
```

## 🔄 工作流程

### 用户使用流程

```
1. 打开应用
   ↓
2. 授予相机权限
   ↓
3. 相机预览启动
   ↓
4. 本地AI实时分析（每0.5秒）
   ├─ 检测主体位置
   ├─ 检测水平线
   ├─ 计算评分
   └─ 生成建议
   ↓
5. 屏幕显示
   ├─ 辅助网格线
   ├─ 主体标记框
   ├─ 实时评分
   └─ 构图建议
   ↓
6. 用户调整角度（根据建议）
   ↓
7. [可选] 点击"AI精准评分"
   ├─ 上传到腾讯云
   ├─ 获取专业评分
   └─ 显示详细建议
   ↓
8. 点击拍摄按钮
   ↓
9. 保存照片到相册
```

### 数据流

```
相机画面
   ↓
帧捕获（2fps）
   ↓
本地AI分析
   ├─ OpenCV处理
   ├─ NIMA评分
   └─ 规则检查
   ↓
生成结果
   ├─ 评分
   ├─ 主体位置
   ├─ 水平状态
   └─ 建议列表
   ↓
UI更新
   ├─ 绘制辅助线
   ├─ 显示评分
   └─ 显示建议
```

## 🎨 设计理念

### 1. 实时优先
- 本地AI保证实时反馈（<100ms延迟）
- 流畅的用户体验
- 不依赖网络

### 2. 精准可选
- 云端API提供专业级分析
- 按需调用，节省配额
- 适合关键时刻

### 3. 教育性
- 显示构图辅助线
- 提供具体建议
- 帮助用户学习摄影

### 4. 简洁易用
- 最小化界面元素
- 清晰的视觉反馈
- 一键拍摄

## 📊 性能指标

| 指标 | 目标值 | 实际值 |
|------|--------|--------|
| 启动时间 | <3秒 | 待测试 |
| 帧率 | 30fps预览 | 待测试 |
| 分析延迟 | <100ms | 待测试 |
| 内存占用 | <200MB | 待测试 |
| APK大小 | <50MB | 待测试 |
| 云端响应 | <2秒 | 1-2秒 |

## 🚀 开发进度

### 已完成 ✅
- [x] 项目架构设计
- [x] 核心模块实现
- [x] 相机管理器
- [x] 本地分析器（简化版）
- [x] 云端API接口
- [x] 辅助线绘制
- [x] UI界面框架
- [x] 配置系统
- [x] 文档编写

### 进行中 🔄
- [ ] NIMA模型集成
- [ ] Android打包测试
- [ ] 性能优化

### 待开发 📝
- [ ] 更多构图规则
- [ ] 照片管理功能
- [ ] 历史记录
- [ ] 分享功能
- [ ] 多语言支持

## 🔧 部署方式

### 开发环境
```bash
python main.py
```

### Android设备
```bash
buildozer android debug
adb install bin/*.apk
```

### 发布版本
```bash
buildozer android release
# 签名APK
# 上传到应用商店
```

## 📈 未来规划

### v1.1
- [ ] 完整NIMA模型集成
- [ ] 性能优化
- [ ] 更多构图规则

### v1.2
- [ ] 照片管理功能
- [ ] 历史记录
- [ ] 批量分析

### v2.0
- [ ] 视频拍摄辅助
- [ ] 实时滤镜
- [ ] AI自动拍摄

## 🤝 贡献指南

欢迎贡献代码、报告问题或提出建议！

1. Fork项目
2. 创建特性分支
3. 提交更改
4. 推送到分支
5. 创建Pull Request

## 📄 许可证

MIT License

## 📞 联系方式

- 项目地址：https://github.com/your-repo
- 问题反馈：GitHub Issues
- 邮件：support@example.com

---

**最后更新：** 2026-01-06  
**维护者：** 开发团队
